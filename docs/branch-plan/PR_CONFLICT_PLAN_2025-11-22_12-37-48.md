# PR Conflict & Triage Plan

Repository: `GurthBro0ks/slimy-monorepo`

This document was generated by an AI agent running locally in the repo.
It summarizes all open PRs and recommends what to do with each one.

---

## PR #11 – Build Admin API foundation with tests and logging

- URL: https://github.com/GurthBro0ks/slimy-monorepo/pull/11
- Head branch: `claude/admin-api-foundation-01RzvarpwTeFFxJDocfXCBnT`
- Base branch: `main`
- Draft: no
- Mergeable (GitHub): CONFLICTING (`mergeStateStatus`: DIRTY)
- Ahead/behind vs base: 1 commits ahead / 23 behind

### Change Summary

- Main areas touched:
  - Root service scaffolding and test harness (`server.js`, `src/app.js`, `jest.config.js`)
  - Integration tests in `tests/integration/`
  - Root `package.json` additions and admin API foundation docs

- Diffstat (top files):
  - ADMIN_API_DEV.md | 499 insertions
  - jest.config.js | 45 insertions
  - jest.setup.js | 26 insertions
  - package.json | +4/-0
  - src/app.js | +14/-0
  - tests/integration/*.test.js | numerous additions (total +694)

### Conflict / Obsolescence Analysis

- Conflicts: GitHub reports conflicts. Likely hotspots are root `package.json` and test config files because `main` moved 23 commits since this branch split.
- Superseded: No evidence of a newer branch containing this work.
- Risk level: Medium (foundational changes plus wide test additions need careful merge).

### Recommended Action

**REBASE / UPDATE NEEDED**

- Description: Branch is 23 commits behind `main` and currently marked DIRTY. Expect conflicts around `package.json` and test setup files.
- Suggested steps:
  ```bash
  git checkout claude/admin-api-foundation-01RzvarpwTeFFxJDocfXCBnT
  git fetch origin
  git rebase origin/main
  # resolve conflicts in package.json, jest config, and integration tests
  pnpm test # or targeted integration suite
  git push --force-with-lease origin claude/admin-api-foundation-01RzvarpwTeFFxJDocfXCBnT
  ```

---

## PR #10 – Standardize pnpm scripts and document dev workflow

- URL: https://github.com/GurthBro0ks/slimy-monorepo/pull/10
- Head branch: `claude/standardize-pnpm-scripts-01CoxBTPHuqici8YWvQgDhQM`
- Base branch: `main`
- Draft: no
- Mergeable (GitHub): UNKNOWN (`mergeStateStatus`: UNKNOWN)
- Ahead/behind vs base: 1 commits ahead / 23 behind

### Change Summary

- Main areas touched:
  - Dev workflow docs (`docs/DEV_WORKFLOW.md`)
  - Root `README.md`
  - Root `package.json` scripts and app package manifests for admin UI and bot

- Diffstat (top files):
  - docs/DEV_WORKFLOW.md | 386 insertions
  - README.md | 48 insertions
  - package.json | +9/-0
  - apps/admin-ui/package.json | +3/-0
  - apps/bot/package.json | +5/-0

### Conflict / Obsolescence Analysis

- Conflicts: Mergeability unknown; branch is 23 commits behind `main` so expect at least doc and script conflicts in `package.json` and possibly README edits.
- Superseded: No newer branch appears to contain these script/doc updates.
- Risk level: Medium (shared package.json/script touchpoints likely to conflict with recent main changes).

### Recommended Action

**REBASE / UPDATE NEEDED**

- Description: Needs refresh onto current `main`; resolve any script and doc conflicts, then re-run lint/tests for script consistency.
- Suggested steps:
  ```bash
  git checkout claude/standardize-pnpm-scripts-01CoxBTPHuqici8YWvQgDhQM
  git fetch origin
  git rebase origin/main
  # resolve conflicts in package.json, README, docs/DEV_WORKFLOW.md
  pnpm lint && pnpm test || true # run relevant checks
  git push --force-with-lease origin claude/standardize-pnpm-scripts-01CoxBTPHuqici8YWvQgDhQM
  ```

---

## PR #9 – Clean up Discord bot code and tests

- URL: https://github.com/GurthBro0ks/slimy-monorepo/pull/9
- Head branch: `claude/discord-bot-hygiene-01ECcGMbfB64BTHzMYdNj9CY`
- Base branch: `main`
- Draft: no
- Mergeable (GitHub): UNKNOWN (`mergeStateStatus`: UNKNOWN)
- Ahead/behind vs base: 1 commits ahead / 23 behind

### Change Summary

- Main areas touched:
  - Discord bot source, utils, and tests under `apps/bot/`
  - Bot documentation (`apps/bot/README.md`, `docs/BOT_HEALTH_REPORT-2025-11-22.md`)
  - Adds large `package-lock.json` snapshot

- Diffstat (top files):
  - package-lock.json | 22115 insertions
  - docs/BOT_HEALTH_REPORT-2025-11-22.md | 268 insertions
  - apps/bot/src/index.ts | +63/-0
  - apps/bot/src/utils/*.ts | ~107 insertions
  - apps/bot/tests/utils/*.test.ts | ~139 insertions

### Conflict / Obsolescence Analysis

- Conflicts: Mergeability unknown; branch lags `main` by 23 commits. Biggest risk is the massive `package-lock.json`, which will almost certainly conflict with dependency updates on `main`.
- Superseded: Not obviously superseded by another bot-focused branch.
- Risk level: Medium-High (lockfile churn plus shared bot files).

### Recommended Action

**REBASE / UPDATE NEEDED**

- Description: Rebase to current `main`, regenerate lockfile to match repo’s preferred package manager (consider replacing lockfile with pnpm artifacts if standard). Resolve any bot code/test conflicts.
- Suggested steps:
  ```bash
  git checkout claude/discord-bot-hygiene-01ECcGMbfB64BTHzMYdNj9CY
  git fetch origin
  git rebase origin/main
  # expect conflicts in package-lock.json and apps/bot sources
  npm install # or pnpm install consistent with repo
  npm test --workspaces apps/bot || pnpm test --filter bot
  git push --force-with-lease origin claude/discord-bot-hygiene-01ECcGMbfB64BTHzMYdNj9CY
  ```

---

## PR #1 – Claude/docker deploy reliability 01 hw hbt rtny6ui tc5 qp8fi6y

- URL: https://github.com/GurthBro0ks/slimy-monorepo/pull/1
- Head branch: `claude/docker-deploy-reliability-01HwHbtRtny6uiTc5Qp8fi6y`
- Base branch: `main`
- Draft: no
- Mergeable (GitHub): UNKNOWN (`mergeStateStatus`: UNKNOWN)
- Ahead/behind vs base: 2 commits ahead / 26 behind

### Change Summary

- Main areas touched:
  - Admin API Docker packaging and runtime reliability (`apps/admin-api/Dockerfile`, cache/queue/db libs)
  - Admin API routing/tests
  - Large rewrites to `apps/admin-api/package-lock.json`

- Diffstat (top files):
  - apps/admin-api/package-lock.json | heavy modifications (9k+ lines changed)
  - apps/admin-api/lib/cache/redis.js | 417 changes
  - apps/admin-api/lib/guild-personality.js | 220 changes
  - apps/admin-api/lib/sheets.js | 108 changes
  - multiple admin-api libs and Dockerfile tweaks

### Conflict / Obsolescence Analysis

- Conflicts: Mergeability unknown; branch is 26 commits behind `main`. Admin API area has likely diverged, and the large lockfile plus core library edits make conflicts likely.
- Superseded: No newer admin-api reliability branch detected.
- Risk level: High (broad admin-api refactor plus stale lockfile).

### Recommended Action

**REBASE / UPDATE NEEDED**

- Description: Needs rebase to current `main`, with careful conflict resolution across admin-api libs and lockfile. Re-run Docker build/tests after rebasing.
- Suggested steps:
  ```bash
  git checkout claude/docker-deploy-reliability-01HwHbtRtny6uiTc5Qp8fi6y
  git fetch origin
  git rebase origin/main
  # resolve conflicts in admin-api libs and package-lock.json
  cd apps/admin-api && npm install && npm test || true
  cd ../..
  docker build -f apps/admin-api/Dockerfile .
  git push --force-with-lease origin claude/docker-deploy-reliability-01HwHbtRtny6uiTc5Qp8fi6y
  ```

---

## Overall Recommendation Summary

- PRs safe to merge after CI: (none)
- PRs needing rebase/conflict resolution: #11, #10, #9, #1
- PRs that appear obsolete/superseded and could likely be closed: (none identified)

High-priority actions:

1. Rebase #11 onto `main`, fix package.json/test conflicts, rerun integration tests.
2. Rebase #10 onto `main`, reconcile script/doc changes, ensure pnpm workflow matches current conventions.
3. Rebase #9 and #1, regenerate lockfiles as needed to match repo standards and rerun service-specific tests.
