# PR Conflict & Triage Plan

Repository: `GurthBro0ks/slimy-monorepo`

This document was generated by an AI agent running locally in the repo.
It summarizes all open PRs and recommends what to do with each one.

---
## PR #11 – Build Admin API foundation with tests and logging

- URL: https://github.com/GurthBro0ks/slimy-monorepo/pull/11
- Head branch: `claude/admin-api-foundation-01RzvarpwTeFFxJDocfXCBnT`
- Base branch: `main`
- Draft: no
- Mergeable (GitHub): CONFLICTING (`mergeStateStatus`: DIRTY)
- Ahead/behind vs base: 29 commits ahead / 1 behind

### Change Summary

- Main areas touched:
  - Root server entrypoint and integration test harness
  - New ADMIN_API_DEV doc
  - Jest config and test setup
  - Integration tests for auth/error/health flows
- Diffstat (top files):
  - ADMIN_API_DEV.md                         |  499 +++++++++++++++++++++++++++++++
  - jest.config.js                           |   45 ++
  - jest.setup.js                            |   26 +
  - package.json                             |    4 
  - server.js                                |   10 
  - src/app.js                               |   14 
  - tests/integration/auth-flow.test.js      |  202 ++++++++++++
  - tests/integration/error-handling.test.js |  172 ++++++++++
  - tests/integration/foundation.test.js     |  236 ++++++++++++++
  - tests/integration/health.test.js         |   84 +++++

### Conflict / Obsolescence Analysis

- Conflicts: GitHub reports conflicts (DIRTY). Likely around root `package.json` and shared Jest config/setup files, plus server entrypoints that may have diverged on `main`.
- Superseded: no clear successor branch identified.
- Risk level: medium (broad config + many new tests; expect non-trivial rebasing).

### Recommended Action

**REBASE / UPDATE NEEDED**

- Description: Needs rebase onto `main` and conflict resolution in `package.json`, `jest.config.js`, and possibly `server.js`/`src/app.js`.
- Suggested steps:
  ```bash
  git checkout claude/admin-api-foundation-01RzvarpwTeFFxJDocfXCBnT
  git fetch origin
  git rebase origin/main
  # resolve conflicts in package.json, jest.config.js, jest.setup.js, server.js/src/app.js
  pnpm test || npm test
  git push --force-with-lease origin claude/admin-api-foundation-01RzvarpwTeFFxJDocfXCBnT
  ```
## PR #10 – Standardize pnpm scripts and document dev workflow

- URL: https://github.com/GurthBro0ks/slimy-monorepo/pull/10
- Head branch: `claude/standardize-pnpm-scripts-01CoxBTPHuqici8YWvQgDhQM`
- Base branch: `main`
- Draft: no
- Mergeable (GitHub): CONFLICTING (`mergeStateStatus`: DIRTY)
- Ahead/behind vs base: 29 commits ahead / 1 behind

### Change Summary

- Main areas touched:
  - Root/package-level scripts in `package.json`
  - Admin UI and bot package manifests
  - Dev workflow docs and README
- Diffstat (top files):
  - README.md                  |   48 +++++
  - apps/admin-ui/package.json |    3 
  - apps/bot/package.json      |    5 
  - docs/DEV_WORKFLOW.md       |  386 +++++++++++++++++++++++++++++++++++++++++++++
  - package.json               |    9 +

### Conflict / Obsolescence Analysis

- Conflicts: Marked DIRTY; likely in root `package.json` and possibly README/doc sections that have diverged on `main` and overlap with other foundation work.
- Superseded: no newer branch obviously covering the same scope.
- Risk level: medium (script and doc rewrites can clash with other branch-level changes).

### Recommended Action

**REBASE / UPDATE NEEDED**

- Description: Rebase onto `main` and resolve script/doc conflicts, especially in `package.json` and README.
- Suggested steps:
  ```bash
  git checkout claude/standardize-pnpm-scripts-01CoxBTPHuqici8YWvQgDhQM
  git fetch origin
  git rebase origin/main
  # fix conflicts in package.json, README.md, docs/DEV_WORKFLOW.md, package manifests
  pnpm lint || npm test
  git push --force-with-lease origin claude/standardize-pnpm-scripts-01CoxBTPHuqici8YWvQgDhQM
  ```
## PR #9 – Clean up Discord bot code and tests

- URL: https://github.com/GurthBro0ks/slimy-monorepo/pull/9
- Head branch: `claude/discord-bot-hygiene-01ECcGMbfB64BTHzMYdNj9CY`
- Base branch: `main`
- Draft: no
- Mergeable (GitHub): CONFLICTING (`mergeStateStatus`: DIRTY)
- Ahead/behind vs base: 29 commits ahead / 1 behind

### Change Summary

- Main areas touched:
  - `apps/bot` source, utils, tests, and config
  - New bot health report doc
  - Adds a massive `package-lock.json` snapshot
- Diffstat (top files):
  - apps/bot/.gitignore                  |    7 
  - apps/bot/README.md                   |   55 
  - apps/bot/jest.config.js              |   12 
  - apps/bot/package.json                |   20 
  - apps/bot/src/index.ts                |   63 
  - apps/bot/src/utils/parsing.ts        |   54 
  - apps/bot/src/utils/stats.ts          |   53 
  - apps/bot/tests/utils/parsing.test.ts |   77 
  - apps/bot/tests/utils/stats.test.ts   |   62 
  - apps/bot/tsconfig.json               |   20 
  - docs/BOT_HEALTH_REPORT-2025-11-22.md |  268 
  - package-lock.json                    |22115 +++++++++++++++++++++++++++++++++++

### Conflict / Obsolescence Analysis

- Conflicts: GitHub marks DIRTY; likely conflicts around the giant `package-lock.json` and any bot config files touched since this branch diverged.
- Superseded: no direct successor found, but the lockfile may be misaligned with current package manager choices (pnpm elsewhere).
- Risk level: high (large lockfile churn and multiple bot files make rebasing noisy).

### Recommended Action

**REBASE / UPDATE NEEDED**

- Description: Rebase on `main`, regenerate lockfiles to match current tooling, and resolve bot config conflicts.
- Suggested steps:
  ```bash
  git checkout claude/discord-bot-hygiene-01ECcGMbfB64BTHzMYdNj9CY
  git fetch origin
  git rebase origin/main
  # resolve conflicts in package-lock.json and any bot configs
  # consider dropping lockfile if repo standardizes on pnpm
  pnpm test apps:bot || npm test -- apps/bot
  git push --force-with-lease origin claude/discord-bot-hygiene-01ECcGMbfB64BTHzMYdNj9CY
  ```
## PR #1 – Claude/docker deploy reliability 01 hw hbt rtny6ui tc5 qp8fi6y

- URL: https://github.com/GurthBro0ks/slimy-monorepo/pull/1
- Head branch: `claude/docker-deploy-reliability-01HwHbtRtny6uiTc5Qp8fi6y`
- Base branch: `main`
- Draft: no
- Mergeable (GitHub): CONFLICTING (`mergeStateStatus`: DIRTY)
- Ahead/behind vs base: 32 commits ahead / 2 behind

### Change Summary

- Main areas touched:
  - `apps/admin-api` Dockerfile and caching/queue/sheets utilities
  - Admin API package manifest and lockfile
  - Dockerignore tweaks
- Diffstat (top files):
  - .dockerignore                                            |   51 
  - apps/admin-api/Dockerfile                                |    5 
  - apps/admin-api/lib/cache/redis.js                        |  417 
  - apps/admin-api/lib/club-corrections.js                   |   10 
  - apps/admin-api/lib/club-sheets.js                        |    3 
  - apps/admin-api/lib/club-store.js                         |    2 
  - apps/admin-api/lib/club-vision.js                        |    9 
  - apps/admin-api/lib/database.js                           |   24 
  - apps/admin-api/lib/guild-personality.js                  |  220 
  - apps/admin-api/lib/numparse.js                           |   17 
  - apps/admin-api/lib/queue-manager.js                      |   31 
  - apps/admin-api/lib/sheets.js                             |  108 
  - apps/admin-api/lib/snail-vision.js                       |    5 
  - apps/admin-api/lib/usage-openai.js                       |    5 
  - apps/admin-api/lib/week-anchor.js                        |   10 
  - apps/admin-api/package-lock.json                         | 9281 ++-------------
  - apps/admin-api/package.json                              |    5 
  - apps/admin-api/server.js                                 |    4 
  - apps/admin-api/src/routes/chat.js                        |    2 
  - apps/admin-api/src/routes/chat.test.js                   |   10 

### Conflict / Obsolescence Analysis

- Conflicts: DIRTY; expect conflicts in `apps/admin-api/package-lock.json` and possibly Dockerfile/server routes that moved on `main`.
- Superseded: no newer admin-api deployment PR detected, but branch is old and diverged.
- Risk level: high (large lockfile churn and infra changes with two commits behind base).

### Recommended Action

**REBASE / UPDATE NEEDED**

- Description: Rebase onto `main`, refresh Docker-related changes, and regenerate the admin API lockfile to current dependencies.
- Suggested steps:
  ```bash
  git checkout claude/docker-deploy-reliability-01HwHbtRtny6uiTc5Qp8fi6y
  git fetch origin
  git rebase origin/main
  # resolve conflicts in apps/admin-api/package-lock.json, Dockerfile, and server routes
  pnpm test apps:admin-api || npm test -- apps/admin-api
  git push --force-with-lease origin claude/docker-deploy-reliability-01HwHbtRtny6uiTc5Qp8fi6y
  ```
---

## Overall Recommendation Summary

- PRs safe to merge after CI: none
- PRs needing rebase/conflict resolution: #11, #10, #9, #1
- PRs that appear obsolete/superseded and could likely be closed: none identified

High-priority actions:

1. Rebase #10 (pnpm scripts/docs) onto main to settle root `package.json` and docs before other merges.
2. Rebase #11 (Admin API foundation) to align Jest config and server entrypoints after #10 settles.
3. Rebase #9 and #1 with fresh lockfiles to avoid churn and resolve bot/admin-api conflicts.
