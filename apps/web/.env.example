# ============================================================================
# SlimyAI Web App Configuration
# ============================================================================
# Copy this file to .env.local and fill in your values
# Never commit .env files to version control

# ============================================================================
# Database Configuration (SHARED WITH ADMIN-API)
# ============================================================================
# PostgreSQL connection string for local development
# IMPORTANT: As of Phase 2.1, both apps/admin-api and apps/web use the SAME
# PostgreSQL database. Set DATABASE_URL in your shell or .env.local file and
# both apps will use it.
#
# Local Development (Docker):
# Use the values from admin-api's docker-compose.yml if running with Docker
DATABASE_URL=postgresql://slimy:slimy_dev_password@localhost:5432/slimy?schema=public

# Test Database (Optional):
# For isolated testing, use a separate test database URL:
# DATABASE_URL_TEST=postgresql://slimy:slimy_dev_password@localhost:5432/slimy_test?schema=public

# For production, use a secure password and proper PostgreSQL URL
# DATABASE_URL=postgresql://user:password@hostname:5432/dbname?schema=public

# ============================================================================
# API Configuration
# ============================================================================
# Admin API Base URL for API calls
# Local development: http://localhost:3080
# Production: https://api.slimyai.xyz
NEXT_PUBLIC_ADMIN_API_BASE=http://localhost:3080

# App URL (for redirects and links)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================================================
# AI/LLM Configuration
# ============================================================================
# OpenAI API Key for AI chat and screenshot analysis
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1

# ============================================================================
# File Storage Configuration
# ============================================================================
# Vercel Blob Token for file uploads (screenshots, exports)
# Get from: https://vercel.com/dashboard/settings/tokens
# Create a "Vercel Blob Read/Write Token"
BLOB_READ_WRITE_TOKEN=your_vercel_blob_token_here

# ============================================================================
# External API Integrations
# ============================================================================
# Google Sheets for analytics export
GOOGLE_SHEETS_API_KEY=your_google_sheets_api_key_here

# Discord OAuth Configuration
NEXT_PUBLIC_DISCORD_CLIENT_ID=your_discord_client_id_here
# Note: Client secret should NOT be in .env.example (server-side only)

# Snelp Codes API
NEXT_PUBLIC_SNELP_CODES_URL=https://snelp.com/api/codes

# ============================================================================
# Redis Configuration (Optional - for background jobs)
# ============================================================================
# IMPORTANT: If REDIS_URL is not set, heavy operations will be processed
# synchronously. For production, enable Redis for async processing.
# REDIS_URL=redis://localhost:6379

# ============================================================================
# Database Architecture (Phase 2.1 - Single Canonical DB)
# ============================================================================
# Web App Models (separate from admin-api):
# - ChatConversation, ChatMessage (AI conversations - NOT guild chat)
# - UserPreferences, GuildFeatureFlags (user settings)
# - CodeReport, UserSession (game features)
#
# Canonical Models (Admin-API) - Web should call /api/* endpoints:
# - ClubAnalysis, ClubAnalysisImage, ClubMetric → Use /api/club-analytics/*
# - GuildConversation, GuildChatMessage → Use /api/chat/guild/*
# - AuditLog → Use /api/audit-log/*
# - All Guild/User/Auth operations → Use /api/guilds/*, /api/auth/*
#
# See docs/MEGA_INTEGRATION_AUDIT.md and docs/db/PRISMA_MIGRATION_GUIDE.md
