# ============================================================================
# Slimy Monorepo Docker Compose Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# Never commit .env files to version control

# ============================================================================
# General Configuration
# ============================================================================
NODE_ENV=production

# ============================================================================
# Database Configuration
# ============================================================================
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=slimyai
MYSQL_USER=slimyai
MYSQL_PASSWORD=slimypassword
DATABASE_URL=mysql://slimyai:slimypassword@db:3306/slimyai

# ============================================================================
# Discord OAuth Configuration (REQUIRED)
# ============================================================================
DISCORD_CLIENT_ID=123456789012345678
DISCORD_CLIENT_SECRET=your_discord_client_secret_here
# For admin-ui login, route the callback through admin-ui so cookies land on localhost:3001.
DISCORD_REDIRECT_URI=http://localhost:3001/api/admin-api/api/auth/callback
# Production example (admin-api is served directly): DISCORD_REDIRECT_URI=https://admin.slimyai.xyz/api/auth/callback
DISCORD_OAUTH_SCOPES=identify guilds
DISCORD_BOT_TOKEN=your_discord_bot_token_here

# ============================================================================
# Authentication & Security (REQUIRED)
# ============================================================================
SESSION_SECRET=your_session_secret_here_change_this_32_chars_minimum
JWT_SECRET=your_jwt_secret_here_change_this_32_chars_minimum
SESSION_COOKIE_DOMAIN=.localhost
COOKIE_DOMAIN=.localhost

# ============================================================================
# CORS Configuration (REQUIRED)
# ============================================================================
CORS_ORIGIN=http://localhost:3000
CLIENT_URL=http://localhost:3000

# ============================================================================
# User Permissions
# ============================================================================
# Discord user IDs (comma-separated) with elevated permissions
ADMIN_USER_IDS=
CLUB_USER_IDS=

# ============================================================================
# External API Integrations
# ============================================================================
OPENAI_API_KEY=
STATS_SHEET_ID=
SNELP_CODES_URL=https://snelp.com/api/codes

# ============================================================================
# Frontend Configuration
# ============================================================================
# Public API base URL (for browser requests)
NEXT_PUBLIC_ADMIN_API_BASE=http://localhost:3080

# Admin UI API base (leave empty for relative paths with rewrites)
ADMIN_UI_API_BASE=

# Optional: internal API URL (for server-side requests from admin-ui to admin-api)
ADMIN_API_INTERNAL_URL=http://admin-api:3080

# Optional: Admin API public URL (for login redirects from admin-ui)
NEXT_PUBLIC_ADMIN_API_PUBLIC_URL=http://localhost:3080

# Optional: Snelp codes URL
NEXT_PUBLIC_SNELP_CODES_URL=

# Optional: Plausible analytics domain
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=

# ============================================================================
# Service Configuration
# ============================================================================
ADMIN_API_SERVICE_NAME=slimy-admin-api
ADMIN_API_VERSION=docker
LOG_LEVEL=info
